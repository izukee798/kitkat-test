local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
   Name = "Izukee Test Script",
   LoadingTitle = "Testing",
   LoadingSubtitle = "Izukee",
   Theme = "Default",
   ToggleUIKeybind = "K",
   ConfigurationSaving = {
      Enabled = true,
      FileName = "Test Hub"
   },
   KeySystem = false
})

local Tab = Window:CreateTab("Main", 4483362458)

-- 🔁 Player Setup
local Players = game:GetService("Players")
local UIS = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

local Player = Players.LocalPlayer
local Character = Player.Character or Player.CharacterAdded:Wait()
local humanoid = Character:FindFirstChildOfClass("Humanoid")

Player.CharacterAdded:Connect(function(char)
   Character = char
   humanoid = char:WaitForChild("Humanoid")
end)

-- 🚀 Fly Toggle
local flying = false
local flySpeed = 50
local bodyGyro, bodyVel, flyConn

local function startFly()
   local hrp = Character:WaitForChild("HumanoidRootPart")

   bodyGyro = Instance.new("BodyGyro")
   bodyGyro.P = 9e4
   bodyGyro.MaxTorque = Vector3.new(9e9, 9e9, 9e9)
   bodyGyro.CFrame = hrp.CFrame
   bodyGyro.Parent = hrp

   bodyVel = Instance.new("BodyVelocity")
   bodyVel.Velocity = Vector3.zero
   bodyVel.MaxForce = Vector3.new(9e9, 9e9, 9e9)
   bodyVel.Parent = hrp

   flyConn = RunService.RenderStepped:Connect(function()
      local cam = workspace.CurrentCamera
      local dir = Vector3.zero

      if UIS:IsKeyDown(Enum.KeyCode.W) then dir += cam.CFrame.LookVector end
      if UIS:IsKeyDown(Enum.KeyCode.S) then dir -= cam.CFrame.LookVector end
      if UIS:IsKeyDown(Enum.KeyCode.A) then dir -= cam.CFrame.RightVector end
      if UIS:IsKeyDown(Enum.KeyCode.D) then dir += cam.CFrame.RightVector end
      if UIS:IsKeyDown(Enum.KeyCode.Space) then dir += cam.CFrame.UpVector end
      if UIS:IsKeyDown(Enum.KeyCode.LeftControl) then dir -= cam.CFrame.UpVector end

      bodyGyro.CFrame = cam.CFrame
      bodyVel.Velocity = dir.Magnitude > 0 and dir.Unit * flySpeed or Vector3.zero
   end)
end

local function stopFly()
   if flyConn then flyConn:Disconnect() end
   if bodyGyro then bodyGyro:Destroy() end
   if bodyVel then bodyVel:Destroy() end
   bodyGyro, bodyVel, flyConn = nil, nil, nil
end

Tab:CreateToggle({
   Name = "Fly",
   CurrentValue = false,
   Flag = "FlyToggle",
   Callback = function(state)
      flying = state
      if flying then
         startFly()
      else
         stopFly()
      end
   end,
})

-- 🚶 WalkSpeed Slider
local defaultSpeed = 16

Tab:CreateSlider({
   Name = "WalkSpeed",
   Min = 16,
   Max = 100,
   Increment = 1,
   Suffix = "speed",
   CurrentValue = defaultSpeed,
   Callback = function(value)
      if humanoid then
         humanoid.WalkSpeed = value
      end
   end
})

-- 🚫 Noclip Toggle
local noclip = false
local noclipConn = nil

local function startNoclip()
   noclipConn = game:GetService("RunService").Stepped:Connect(function()
      local char = Player.Character
      if char then
         for _, part in pairs(char:GetDescendants()) do
            if part:IsA("BasePart") and part.CanCollide then
               part.CanCollide = false
            end
         end
      end
   end)
end

local function stopNoclip()
   if noclipConn then
      noclipConn:Disconnect()
      noclipConn = nil
   end

   local char = Player.Character
   if char then
      for _, part in pairs(char:GetDescendants()) do
         if part:IsA("BasePart") then
            part.CanCollide = true
         end
      end
   end
end

Tab:CreateToggle({
   Name = "Noclip",
   CurrentValue = false,
   Flag = "NoclipToggle",
   Callback = function(state)
      noclip = state
      if noclip then
         startNoclip()
      else
         stopNoclip()
      end
   end,
})


